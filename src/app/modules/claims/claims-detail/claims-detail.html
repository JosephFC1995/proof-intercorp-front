<div class="flex flex-col justify-between items-start md:items-start mb-4 gap-4">
    <p-button type="button" [rounded]="true" label="Regresar" class="hidden md:block" (click)="handleGoToList()"
        size="small" icon="pi pi-arrow-left" variant="outlined" />
    <h1 class="text-3xl font-bold mb-4 md:mb-0">Detalle de reclamo</h1>
</div>

<div class="max-w-5xl grid grid-cols-1 lg:grid-cols-12 gap-4">
    <p-card header="Información del reclamo" class="col-span-1 lg:col-span-12">
        <div class="flex flex-col gap-1 mb-4">
            <p class="m-0 text-sm text-surface-500 dark:text-surface-400">
                Código
            </p>

            <p class="m-0 font-bold">
                {{ claim()?.code }}
            </p>
        </div>
        <div class="flex flex-col gap-1 mb-4">
            <p class="m-0 text-sm text-surface-500 dark:text-surface-400">
                Empresa
            </p>

            <p class="m-0 font-bold">
                {{ claim()?.business }}
            </p>
        </div>
        <div class="flex flex-col gap-1 mb-4">
            <p class="m-0 text-sm text-surface-500 dark:text-surface-400">
                Motivo
            </p>

            <p class="m-0 font-bold">
                {{ claim()?.reason }}
            </p>
        </div>
        <div class="flex flex-col gap-1 mb-4">
            <p class="m-0 text-sm text-surface-500 dark:text-surface-400">
                Descripción
            </p>

            <p class="m-0 font-bold">
                {{ claim()?.description }}
            </p>
        </div>
        <div class="flex flex-col gap-1 mb-4">
            <p class="m-0 text-sm text-surface-500 dark:text-surface-400">
                Correo electrónico
            </p>

            <p class="m-0 font-bold">
                <a target="_blank" [href]="`mailto:${claim?.email_client}`">
                    {{ claim()?.email_client }}
                </a>
            </p>
        </div>
        <div class="flex flex-col gap-1 mb-4">
            <p class="m-0 text-sm text-surface-500 dark:text-surface-400">
                Último estado
            </p>
            @if (claim()?.last_status) {
            <p class="m-0 font-bold">
                <p-tag [value]="getSeverityHumanized(claim()?.last_status?.status)"
                    [severity]="getSeverityColor(claim()?.last_status?.status)" />
            </p>
            }
        </div>
    </p-card>

    <!-- Timeline -->
    <p-card header="Historial de estados" class="col-span-1 lg:col-span-5">
        <p-timeline [value]="claim()?.statuses" class="mt-4">
            <ng-template #opposite let-status>
                <small class="text-surface-500 dark:text-surface-400">{{ status.created_at | date: "dd 'de' MMMM, yyyy" }}</small>
            </ng-template>
            <ng-template #content let-status>
                <p-tag [value]="getSeverityHumanized(status.status)" [severity]="getSeverityColor(status.status)" />
            </ng-template>
        </p-timeline>

    </p-card>
    <!-- End Timeline -->

    <!-- Files -->
    <p-card header="Archivos adjuntos" class="col-span-1 lg:col-span-7">
        @if (files.length === 0) {
        <div class="flex items-center justify-center flex-col mt-4">
            <i class="pi pi-file-o !border-2 !rounded-full !p-8 !text-4xl !text-muted-color"></i>
            <p class="mt-6 mb-0">
                No hay archivos adjuntos
            </p>
        </div>
        }
    </p-card>
    <!-- End Files -->
</div>

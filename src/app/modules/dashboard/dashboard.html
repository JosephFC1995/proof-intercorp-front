<div class="flex flex-row justify-between items-start md:items-center mb-4">
    <h1 class="text-3xl font-bold mb-4 md:mb-0">Dashboard</h1>
    <p-button type="button" label="Crear nuevo reclamo" class="hidden md:block" (click)="handleOpenModalCreateClaim()" />
    <p-button type="button" icon="pi pi-plus" aria-label="Crear nuevo reclamo" class="block md:hidden" (click)="handleOpenModalCreateClaim()" />
</div>
<div class="flex mb-4">

    <form [formGroup]="filterForm" class="flex flex-col md:flex-row flex-wrap gap-4 flex-1" (ngSubmit)="onSubmit()">
        <!-- Business -->
        <div class="flex flex-col gap-1">
            <input pInputText class="min-w-[120px]" formControlName="business" name="business" placeholder="Empresa" />
        </div>
        <!-- End Business -->

        <!-- Status -->
        <div class="flex flex-col gap-1">
            <p-select formControlName="status" [options]="statusFilter" optionLabel="label" optionValue="value"
                placeholder="Selecciona un estado" class="min-w-[120px]" [showClear]="true" />

        </div>
        <!-- End Status -->

        <!-- Date -->
        <div class="flex flex-col gap-1">
            <p-datepicker name="date" formControlName="date" placeholder="Fecha" [showClear]="true"
                dateFormat="D 'de' M, yy" />
        </div>
        <!-- End Date -->

        <p-button type="submit" label="Buscar" class="w-full md:w-auto *:w-full" />
    </form>

</div>

<div class="card">
    <p-table [value]="claims()" [tableStyle]="{ 'min-width': '50rem' }" [paginator]="true" [rows]="10"
        [rowsPerPageOptions]="[5, 10, 20]">
        <ng-template #header>
            <tr>
                <th>Code</th>
                <th>Name</th>
                <th>Category</th>
                <th>Quantity</th>
                <th>Status</th>
                <th>Acciones</th>
            </tr>
        </ng-template>
        <ng-template #body let-claim>
            <tr>
                <td>{{ claim.code }}</td>
                <td>{{ claim.name }}</td>
                <td>{{ claim.category }}</td>
                <td>{{ claim.quantity }}</td>
                <td>
                    <p-tag [value]="getSeverityHumanized(claim.status)" [severity]="getSeverityColor(claim.status)" />
                </td>
                <td>
                    <div class="flex gap-2">
                        <p-button label="Ver reclamo" size="small" icon="pi pi-eye"
                            class="p-button-rounded p-button-outlined" variant="outlined" (click)="handleGoToClaim(claim.code)" />
                        <p-button label="Eliminar" size="small" icon="pi pi-trash"
                            class="p-button-rounded p-button-outlined" variant="outlined" severity="danger" />
                    </div>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>
